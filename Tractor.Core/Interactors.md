# Интеракторы

Получаемые и передаваемые данные следует оформить в виде структуры данных (класса)

## DataEditor

Редактирует объекты

### Получаемые данные от конвеера:
```
IDifference
```

### Передаваемые данные в конвеер:
Случай пересоздания объекта:
```
1. Старое хранилище объектов
2. Новое хранилище объектов
3. Объект
```
Случай изменения полей объекта:
```
IDifference
```

### Выполняемые действия:

1. При получении только новой задачи (поле "Старая задача" пусто) отправляет задачу и новое хранилище по конвееру.
2. При получении и старой и новой задач поступает следующим образом:
	1. Если новая задача имеет тот же тип, что и старая задача:
		1. Сравнивает значения полей и обновляет изменившиеся значения полей в старой задаче, заодно отправляя IDifference для полей в конвеер.
	2. Если новая задача имеет иной тип (по сравнению со старой задачей):
		1. Отправляет в конвеер старую задачу и хранилище как старое.
		2. Отправляет в конвеер новую задачу и хранилище как новое.

## DataRelocator

Перемещает релоцируемы объекты

### Получаемые данные от конвеера:
```
1. Старое хранилище объектов
2. Новое хранилище объектов
3. Объект
```

### Передаваемые данные в конвеер:
```
1. Объект
2. Произошедшее действие(удалена/добавлена/перемещена)
```

### Выполняемые действия:

1. При получении только старого хранилища и задачи:
	1. Удаляет задачу из хранилища
	2. Отправляет данные в конвеер
2. При получении только нового хранилища и задачи:
	1. Добавляет задачу в хранилище
	2. Отправляет данные в конвеер
3. При получении всех параметров:
	1. Удаляет задачу из старого хранилища
	2. Добавляет задачу в новое хранилище
	3. Отправляет данные в конвеер

## RuntimeDifferenceHandler

Обрабатывает изменения объектов во время исполнения программы

### Получаемые данные от конвеера:
```
1. Объект
2. Произошедшее действие
```

### Передаваемые данные в конвеер:
```
1. Изменения объекта
```

### Выполняемые действия:

1. При получении данных от конвеера:
	1. Если произошедшее действие - добавлен
		1. Подписываемся на обновления данного объекта
	2. Если произошедшее действие - удалён
		1. Отписываемся от обновлений данного объекта
2. При обновлении объекта (уведомления через подписку на события)
	1. Формируем изменения в IDifference
	2. Отправляем изменения в конвеер